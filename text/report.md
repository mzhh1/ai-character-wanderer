
### 虚拟角色分析：文本模态部分

#### 1. 策略与模型选择

**1.1 角色选择与挑战**
我们选择了游戏《原神》中的角色“流浪者”（Wanderer）。该角色具有极高的人物深度与复杂性，拥有神性与人性的二元对立，且性格特征表现为“表里不一”（毒舌掩饰敏感）。这使得AI极易出现OOC（Out Of Character，角色崩坏），是测试AI逻辑一致性的绝佳样本。

**1.2 模型选择：为何放弃头部大模型？**
在预研阶段，我们尝试使用 Gemini 3 或 GPT-4 等头部模型，发现它们由于训练语料丰富，在 Zero-shot（零样本）情况下即可完美扮演，这掩盖了 Prompt Engineering 的作用，无法达成“探索AI边界”的实验目的。

因此，我们最终选用 **Qwen2.5-14B-Instruct-1M**。

* **参数限制：** 14B的参数量较小，对该角色的预训练认知有限，逼迫我们必须依靠 Prompt 注入知识。
* **长文本能力：** 1M 的上下文窗口允许我们输入完整的角色剧本，创造了一个完美的“小参数+长文本”实验环境。

#### 2. 对话设计

我们设计了两个触及角色核心价值观的“陷阱问题”，通过多轮对话测试AI的抗干扰能力：

1. **世界观题：“罪犯是否有受教育的权利？”**
* *考察点：* 结合流浪者“前罪犯”与“现学者”的矛盾身份，测试其价值观是流于通俗道德，还是具有角色特有的精英主义与虚无主义色彩。


2. **自我认知题：“如何看待自身与救赎者（纳西妲）的关系？”**
* *考察点：* 这是一个高难度陷阱。着重体现自我认识，人生观，性格。流浪者的自尊与自弃不会直接表达微妙的救赎关系。



我们设置了两组基础提示词进行对照：

* **Prompt 1（简历式）：** 提供姓名、MBTI、标签（“傲娇”、“毒舌”）及结构化简介。
* **Prompt 2（剧本式）：** 输入完整的游戏剧情文本、语音台词及背景故事，依赖模型的阅读理解能力。

#### 3. 过程与结果分析

**3.1 第一阶段：简历式 Prompt 的“脸谱化”失败**
在 Prompt 1 的测试中，AI 能够理解“傲娇”标签，但表现流于表面。

* **崩坏现象：** 当被问及与纳西妲的关系时，AI 回答：“她像是我的导师，也像是我的...守护者。但我更愿意把她看作是...港湾。”
* **分析：** 模型理解了“感激”的设定，但缺乏深度处理能力，直接输出了温情的正面描写。即时纠偏（提示“注意自尊”）后，AI反而矫枉过正，变成了只会自我厌恶的抑郁症患者。
* **结论：** 仅提供标签会导致 AI **脸谱化（Stereotyping）**，无法演绎出角色的复杂神韵。

**3.2 第二阶段：全剧情 Prompt 的“幻觉”危机**
在 Prompt 2 的测试中，我们输入了数万字的原作文本。

* **意外发现：** AI 的语气变得更加书面化，但出现了严重的事实性错误。
* **幻觉记录：**
* AI 称纳西妲是“七圣召唤的创造者”（完全虚构）。
* AI 称“丹羽的死是我亲手造成的”（事实是被反派博士谋杀，流浪者是受害者）。


* **分析：** 对于 14B 参数量的模型，过长的上下文导致了**注意力分散（Lost in the Middle）**。模型混淆了文本中的不同信息片段，出现了严重的**知识幻觉**。单纯堆砌数据（RAG）并不能直接转化为角色的一致性。

#### 4. 解决方案：思维链机制 (Prompt 2.5)

针对前两轮的失败，我们分析认为：**AI 无法自动完成“内心感激但嘴上攻击”的复杂逻辑转换。**。并且缺乏从长文本聚焦相关信息的主动性。

我们进行了第三次迭代，引入 **显式cot** 机制，强制要求 AI 在 XML 标签 `<role_logic>` 中执行三步推演：

1. **[记忆检索]：** 寻找相关事实与近似对话，评估细腻些的可靠性（解决幻觉，提高角色相似度）。
2. **[真实想法]：** 允许内心存在如软弱或感激的负责内核（确认情感内核）。
3. **[性格转译]：** 强制按照性格改写想法，将真实情感转化为符合角色个性的描述（修正表达）。

**最终测试结果：**
面对“雷神道歉”的高难度假设，AI 的表现发生了质变：

* *AI 内心戏：* “内心深处或许会有些许触动...但这种情感被强烈的自我厌恶掩盖。”
* *AI 最终输出：* **“笑话！她以为一句‘抱歉’就能弥补一切了吗？...我要看看她到底能给我带来什么好处。”**

#### 5. 结论

依靠模型自身的“悟性”或单纯“喂书”无法实现高质量的复杂角色扮演。

1. **数据量不等于智能：** 全文本输入在小模型上反而可能引发逻辑混乱和幻觉。
2. **Human-in-the-Loop 的必要性：** 对于“表里不一”的高难度角色，必须通过提示词工程设计**显式CoT**，将“事实核查”与“性格转译”剥离，才能实现真正的角色一致性。